<!DOCTYPE HTML>

<html>

	<head>
	
		<title>
		
			Atira
		
		</title>
		<script src = "js/botao.js"></script>
		<script src = "js/sceneintro.js"></script>
		<script src = "js/credito.js"></script>
		<script src = "js/fundo.js"></script>
		<script src = "js/level.js"></script>		
		<script src = "js/level2.js"></script>		
		<script src = "js/tutorial.js"></script>
		<script src = "js/Alvo.js"></script>
		<script src = "js/fundo_mexeu.js"></script>
		<script src = "js/aviao.js"></script>
		<script src = "js/radar.js"></script>
		<script src = "js/mira.js"></script>
		<script src = "js/tela_tiro.js"></script>
		<script src = "js/end.js"></script>
		<script src = "js/end1.js"></script>
		<script src = "js/end1_1.js"></script>
		
		<body>
		
			
			
			<canvas width="800" height="600" id="main" style="border:1px solid #000000;">
			
			</canvas>
			
			<script>
			
				var canvas = document.getElementById("main");
				var screen = canvas.getContext("2d");
				
				SCREEN_WIDTH = 800;

				SCREEN_HEIGHT = 600;

				var intro = new SCENEIntro();

				var credits = new SceneCredits();

				var level01 = new SceneLevel();
				
				var level02 = new SceneLevel2();

				var tuto = new SceneTutorial();
				
				var end = new End;
				
				var end_1_0 = new End1;
				
				var end_1_1 = new End1_1;
				
				var SCENES = { INTRO: 0, CREDITS: 1, LEVEL01: 2, TUTORIAL: 3, END : 4, END1: 5, LEVEL02 : 7, END3 : 8}

				var currentScene = SCENES.INTRO;
				
				var tempoSeg = 0

				setInterval(contarSegundo, 1000)

				Load();
				
				window.onmousemove = mousemoved;

				function mousemoved()
				{
					
				}
				
				function contarSegundo()
				{

					tempoSeg++

				}	

				function Load()
				{//abre Load

					Loop();

				}//fecha Load

				function clear()
				{//abre clear

					screen.clearRect(0, 0, 600, 960);

				}//fecha clear

				function Update()
				{//abre Update

					switch(currentScene)
					{
					case SCENES.INTRO:
					{
						intro.update();	
					}
					break;
				
					case SCENES.CREDITS:
					{
						credits.update();
					}
					break;

					case SCENES.LEVEL01:
					{
						level01.update();
					}
					break;
					
					case SCENES.LEVEL02:
					{
						level02.update();
					}
					break;

					case SCENES.TUTORIAL:
					{
						tuto.update();
					}
					break;
					
					case SCENES.END:
					{
						end.update();
					}
					break;
					
					case SCENES.END1:
					{
						end_1_0.update();
					}
					break;
									
					case SCENES.END3:
					{
						end_1_1.update();
					}
					break;
					
					}	

				}//fecha Update

				function Draw()
				{//abre draw

					clear()

					switch(currentScene)
					{
						case SCENES.INTRO:
						{
							intro.draw();
						}
						break;

						case SCENES.CREDITS:
						{
							credits.draw();
						}
						break;

						case SCENES.LEVEL01:
						{
							level01.draw();
						}
						break;
						
						case SCENES.LEVEL02:
						{
							level02.draw();
						}
						break;
							
						case SCENES.TUTORIAL:
						{
							tuto.draw();
						}
						break;
						
						case SCENES.END:
						{
							end.draw();
						}
						break;
						
						case SCENES.END1:
						{
							end_1_0.draw();
						}
						break;
						
						case SCENES.END3:
						{
							end_1_1.draw();
						}
						break;

					}

				}//fecha draw

				function Loop()
				{//abre Loop

					Update();

					Draw();

					setTimeout(Loop, 30);

				}//fecha Loop

				function mouse_move(mouse)
				{
					switch(currentScene)
					{
						case SCENES.LEVEL01:
						{
							level01.mouse_move(mouse);
						}
						break;
						
						case SCENES.LEVEL02:
						{
							level02.mouse_move(mouse);
						}
						break;
					}
				}

				function mouse_up(mouse)
				{

				}

				function mouse_down(mouse)
				{

					switch(currentScene)
					{
						case SCENES.INTRO:
						{
							intro.mouse_down(mouse);
						}
						break;

						case SCENES.CREDITS:
						{
							credits.mouse_down(mouse);
						}
						break;

						case SCENES.LEVEL01:
						{
							level01.mouse_down(mouse);
						}
						break;
						
						case SCENES.LEVEL02:
						{
							level02.mouse_down(mouse);
						}
						break;

						case SCENES.TUTORIAL:
						{
							tuto.mouse_down(mouse);
						}
						break;
						
						case SCENES.END:
						{
							end.mouse_down(mouse);
						}
						break;
						
						case SCENES.END1:
						{
							end_1_0.mouse_down(mouse);
						}
						break;
			
						case SCENES.END3:
						{
							end_1_1.mouse_down(mouse);
						}
						break;

					}
				}


				function Collide(x1, y1, w1, h1, x2, y2, w2, h2)
				{//abre Collide
					if((x1+w1<x2)//se rect1 esquerda rect2
					||(x1>x2+w2)//se rect1 direita rect2
					||(y1+h1<y2)//se rect1 acima rect2
					||(y1>y2+h2))//se rect1 abaixo rect2
					{//abre if
						return false;//nao colidiu
					}//fecha if
					else
					{//abre else
						return true;//colidiu
					}//fecha else
				}//fecha Collide

window.addEventListener("mousemove", mouse_move);
window.addEventListener('mousedown', mouse_down, true);

			</script>
		
		</body>
	
	</head>

</html>